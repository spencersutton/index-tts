"""
This type stub file was generated by pyright.
"""

from typing import Literal, Union

from gradio_client.utils import ServerMessage
from pydantic import BaseModel

class BaseMessage(BaseModel):
    msg: ServerMessage
    event_id: str | None = ...

class ProgressUnit(BaseModel):
    index: int | float | None = ...
    length: int | float | None = ...
    unit: str | None = ...
    progress: float | None = ...
    desc: str | None = ...

class ProgressMessage(BaseMessage):
    msg: Literal[ServerMessage.progress] = ...
    progress_data: list[ProgressUnit] = ...

class LogMessage(BaseMessage):
    msg: Literal[ServerMessage.log] = ...
    log: str
    level: Literal["info", "warning", "success", "error"]
    duration: float | None = ...
    visible: bool = ...
    title: str

class EstimationMessage(BaseMessage):
    msg: Literal[ServerMessage.estimation] = ...
    rank: int | None = ...
    queue_size: int
    rank_eta: float | None = ...

class ProcessStartsMessage(BaseMessage):
    msg: Literal[ServerMessage.process_starts] = ...
    eta: float | None = ...

class ProcessCompletedMessage(BaseMessage):
    msg: Literal[ServerMessage.process_completed] = ...
    output: dict
    success: bool
    title: str | None = ...

class ProcessGeneratingMessage(BaseMessage):
    msg: Literal[ServerMessage.process_generating, ServerMessage.process_streaming] = ...
    output: dict
    success: bool
    time_limit: float | None = ...

class HeartbeatMessage(BaseMessage):
    msg: Literal[ServerMessage.heartbeat] = ...

class CloseStreamMessage(BaseMessage):
    msg: Literal[ServerMessage.close_stream] = ...

class UnexpectedErrorMessage(BaseMessage):
    msg: Literal[ServerMessage.unexpected_error] = ...
    message: str
    session_not_found: bool = ...
    success: Literal[False] = ...

EventMessage = Union[
    ProgressMessage,
    LogMessage,
    EstimationMessage,
    ProcessStartsMessage,
    ProcessCompletedMessage,
    ProcessGeneratingMessage,
    HeartbeatMessage,
    UnexpectedErrorMessage,
    CloseStreamMessage,
]
