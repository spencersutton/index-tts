"""
This type stub file was generated by pyright.
"""

import json
from dataclasses import dataclass
from pathlib import Path
from typing import Any, BinaryIO, Dict, List, NoReturn, Optional, TYPE_CHECKING, Union
from requests import HTTPError
from PIL.Image import Image

"""Contains utilities used by both the sync and async inference clients."""
if TYPE_CHECKING: ...
UrlT = str
PathT = Union[str, Path]
ContentT = Union[bytes, BinaryIO, PathT, UrlT, "Image", bytearray, memoryview]
TASKS_EXPECTING_IMAGES = ...
logger = ...

@dataclass
class RequestParameters:
    url: str
    task: str
    model: str | None
    json: str | dict | list | None
    data: bytes | None
    headers: dict[str, Any]
    ...

class MimeBytes(bytes):
    """
    A bytes object with a mime type.
    To be returned by `_prepare_payload_open_as_mime_bytes` in subclasses.

    Example:
    ```python
        >>> b = MimeBytes(b"hello", "text/plain")
        >>> isinstance(b, bytes)
        True
        >>> b.mime_type
        'text/plain'
    ```
    """

    mime_type: str | None
    def __new__(cls, data: bytes, mime_type: str | None = ...):  # -> Self:
        ...

_UNSUPPORTED_TEXT_GENERATION_KWARGS: dict[str | None, list[str]] = ...

def raise_text_generation_error(http_error: HTTPError) -> NoReturn:
    """
    Try to parse text-generation-inference error message and raise HTTPError in any case.

    Args:
        error (`HTTPError`):
            The HTTPError that have been raised.
    """
    ...
