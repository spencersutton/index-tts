from typing import TYPE_CHECKING

from torch._dynamo.symbolic_convert import InstructionTranslator

from .base import VariableTracker

"""
Constant and enum variable tracking in Dynamo.

This module is fundamental to Dynamo's ability to track and propagate constant
values during compilation, ensuring proper handling of Python literals and
maintaining type safety through the compilation process.
"""
if TYPE_CHECKING: ...

class ConstantVariable(VariableTracker):
    @staticmethod
    def create(value, **kwargs) -> VariableTracker: ...
    def __init__(self, value, **kwargs) -> None: ...
    def as_proxy(self):  # -> complex | Any:
        ...
    def as_python_constant(self):  # -> complex | Any:
        ...
    def is_python_constant(self):  # -> Literal[True]:
        ...
    @property
    def items(self):  # -> list[VariableTracker]:

        ...
    def getitem_const(self, tx: InstructionTranslator, arg: VariableTracker):  # -> VariableTracker:
        ...
    @staticmethod
    def is_base_literal(obj):  # -> bool:
        ...
    @staticmethod
    def is_literal(obj):  # -> bool:
        ...
    def unpack_var_sequence(self, tx):  # -> list[VariableTracker]:
        ...
    def const_getattr(self, tx: InstructionTranslator, name):  # -> Any:
        ...
    def call_method(
        self, tx: InstructionTranslator, name, args: list[VariableTracker], kwargs: dict[str, VariableTracker]
    ) -> VariableTracker: ...
    def call_obj_hasattr(self, tx: InstructionTranslator, name: str) -> VariableTracker: ...

class EnumVariable(VariableTracker):
    def __init__(self, value, **kwargs) -> None: ...
    @classmethod
    def create(cls, cls_type, value_vt, options):  # -> Self:
        ...
    def as_proxy(self):  # -> int | Any:
        ...
    def as_python_constant(self):  # -> Any:
        ...
    def var_getattr(self, tx: InstructionTranslator, name):  # -> GetAttrVariable | Any:
        ...
