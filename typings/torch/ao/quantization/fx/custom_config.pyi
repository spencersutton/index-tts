from dataclasses import dataclass
from typing import Any

from torch.ao.quantization import QConfigMapping
from torch.ao.quantization.backend_config import BackendConfig
from torch.ao.quantization.quant_type import QuantType

__all__ = [
    "ConvertCustomConfig",
    "FuseCustomConfig",
    "PrepareCustomConfig",
    "StandaloneModuleConfigEntry",
]
STANDALONE_MODULE_NAME_DICT_KEY = ...
STANDALONE_MODULE_CLASS_DICT_KEY = ...
FLOAT_TO_OBSERVED_DICT_KEY = ...
OBSERVED_TO_QUANTIZED_DICT_KEY = ...
NON_TRACEABLE_MODULE_NAME_DICT_KEY = ...
NON_TRACEABLE_MODULE_CLASS_DICT_KEY = ...
INPUT_QUANTIZED_INDEXES_DICT_KEY = ...
OUTPUT_QUANTIZED_INDEXES_DICT_KEY = ...
PRESERVED_ATTRIBUTES_DICT_KEY = ...

@dataclass
class StandaloneModuleConfigEntry:
    qconfig_mapping: QConfigMapping | None
    example_inputs: tuple[Any, ...]
    prepare_custom_config: PrepareCustomConfig | None
    backend_config: BackendConfig | None

class PrepareCustomConfig:
    def __init__(self) -> None: ...
    def set_standalone_module_name(
        self,
        module_name: str,
        qconfig_mapping: QConfigMapping | None,
        example_inputs: tuple[Any, ...],
        prepare_custom_config: PrepareCustomConfig | None,
        backend_config: BackendConfig | None,
    ) -> PrepareCustomConfig: ...
    def set_standalone_module_class(
        self,
        module_class: type,
        qconfig_mapping: QConfigMapping | None,
        example_inputs: tuple[Any, ...],
        prepare_custom_config: PrepareCustomConfig | None,
        backend_config: BackendConfig | None,
    ) -> PrepareCustomConfig: ...
    def set_float_to_observed_mapping(
        self,
        float_class: type,
        observed_class: type,
        quant_type: QuantType = ...,
    ) -> PrepareCustomConfig: ...
    def set_non_traceable_module_names(self, module_names: list[str]) -> PrepareCustomConfig: ...
    def set_non_traceable_module_classes(self, module_classes: list[type]) -> PrepareCustomConfig: ...
    def set_input_quantized_indexes(self, indexes: list[int]) -> PrepareCustomConfig: ...
    def set_output_quantized_indexes(self, indexes: list[int]) -> PrepareCustomConfig: ...
    def set_preserved_attributes(self, attributes: list[str]) -> PrepareCustomConfig: ...
    @classmethod
    def from_dict(cls, prepare_custom_config_dict: dict[str, Any]) -> PrepareCustomConfig: ...
    def to_dict(self) -> dict[str, Any]: ...

class ConvertCustomConfig:
    def __init__(self) -> None: ...
    def set_observed_to_quantized_mapping(
        self,
        observed_class: type,
        quantized_class: type,
        quant_type: QuantType = ...,
    ) -> ConvertCustomConfig: ...
    def set_preserved_attributes(self, attributes: list[str]) -> ConvertCustomConfig: ...
    @classmethod
    def from_dict(cls, convert_custom_config_dict: dict[str, Any]) -> ConvertCustomConfig: ...
    def to_dict(self) -> dict[str, Any]: ...

class FuseCustomConfig:
    def __init__(self) -> None: ...
    def set_preserved_attributes(self, attributes: list[str]) -> FuseCustomConfig: ...
    @classmethod
    def from_dict(cls, fuse_custom_config_dict: dict[str, Any]) -> FuseCustomConfig: ...
    def to_dict(self) -> dict[str, Any]: ...
