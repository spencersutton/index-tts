import abc
from dataclasses import dataclass
from typing import Any

from torch import Tensor, nn

class VideoTooShortException(Exception): ...

@dataclass
class DecoderArgs:
    num_threads: int = ...

@dataclass
class VideoArgs:
    desired_width: int = ...
    desired_height: int = ...
    desired_max_dimension: int = ...
    desired_min_dimension: int = ...

@dataclass
class SamplerArgs(abc.ABC):
    sampler_type: str
    clips_per_video: int
    frames_per_clip: int

@dataclass
class TimeBasedSamplerArgs(SamplerArgs):
    video_frame_dilation: int = ...
    sample_start_second: float = ...
    sample_end_second: float = ...
    sample_per_second: float = ...
    target_sample_start_second: list[float] = ...

@dataclass
class IndexBasedSamplerArgs(SamplerArgs):
    video_frame_dilation: int = ...
    sample_start_index: int = ...
    sample_end_index: int = ...
    sample_step: int = ...

class DEPRECATED_VideoClipSampler(nn.Module):
    def __init__(
        self,
        video_args: VideoArgs,
        sampler_args: SamplerArgs,
        decoder_args: None | DecoderArgs = ...,
    ) -> None: ...
    def forward(self, video_data: Tensor) -> list[Any]: ...
