"""
This type stub file was generated by pyright.
"""

from contextlib import contextmanager
from typing import Optional
from .utils.import_utils import is_torch_available, requires

if is_torch_available():
    _torch_distributed_available = ...
else:
    _torch_distributed_available = ...
logger = ...
MEMORY_ADDRESS_REGEX = ...

def prune_outputs_if_children(node): ...

LAYER_SUFFIX_RE = ...

def is_layer_block(node): ...
def prune_intermediate_layers(node): ...
def log_model_debug_trace(debug_path, model): ...
@requires(backends=("torch",))
@contextmanager
def model_addition_debugger_context(
    model, debug_path: Optional[str] = ..., do_prune_layers: Optional[bool] = ..., use_repr: Optional[bool] = ...
): ...
