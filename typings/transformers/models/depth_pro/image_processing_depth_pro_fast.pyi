"""
This type stub file was generated by pyright.
"""

from typing import TYPE_CHECKING, Optional, Union

from ...image_processing_utils_fast import BaseImageProcessorFast
from ...utils import TensorType, auto_docstring, is_torch_available, is_torchvision_available
from ...utils.import_utils import requires
from .modeling_depth_pro import DepthProDepthEstimatorOutput

"""Fast Image processor class for DepthPro."""
if TYPE_CHECKING: ...
logger = ...
if is_torch_available(): ...
if is_torchvision_available(): ...

@auto_docstring
@requires(backends=("torchvision", "torch"))
class DepthProImageProcessorFast(BaseImageProcessorFast):
    resample = ...
    image_mean = ...
    image_std = ...
    size = ...
    do_resize = ...
    do_rescale = ...
    do_normalize = ...
    def post_process_depth_estimation(
        self,
        outputs: DepthProDepthEstimatorOutput,
        target_sizes: TensorType | list[tuple[int, int]] | None | None = ...,
    ) -> dict[str, list[TensorType]]:
        """
        Post-processes the raw depth predictions from the model to generate
        final depth predictions which is caliberated using the field of view if provided
        and resized to specified target sizes if provided.

        Args:
            outputs ([`DepthProDepthEstimatorOutput`]):
                Raw outputs of the model.
            target_sizes (`Optional[Union[TensorType, list[tuple[int, int]], None]]`, *optional*, defaults to `None`):
                Target sizes to resize the depth predictions. Can be a tensor of shape `(batch_size, 2)`
                or a list of tuples `(height, width)` for each image in the batch. If `None`, no resizing
                is performed.

        Returns:
            `list[dict[str, TensorType]]`: A list of dictionaries of tensors representing the processed depth
            predictions, and field of view (degrees) and focal length (pixels) if `field_of_view` is given in `outputs`.

        Raises:
            `ValueError`:
                If the lengths of `predicted_depths`, `fovs`, or `target_sizes` are mismatched.
        """
        ...

__all__ = ["DepthProImageProcessorFast"]
