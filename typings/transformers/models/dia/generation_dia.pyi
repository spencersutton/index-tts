"""
This type stub file was generated by pyright.
"""

import torch
from typing import Callable, Optional, Union
from ...generation.logits_process import LogitsProcessorList
from ...generation.stopping_criteria import StoppingCriteriaList
from ...generation.streamers import BaseStreamer
from ...generation.utils import GenerateOutput, GenerationConfig, GenerationMixin
from ...modeling_utils import PreTrainedModel

logger = ...

class DiaGenerationMixin(GenerationMixin):
    _uses_cfg = ...
    def prepare_inputs_for_generation(self, input_ids, encoder_outputs=..., decoder_delay_mask=..., **kwargs): ...
    @staticmethod
    def apply_delay_mask(input_ids: torch.Tensor, pad_id: int, delay_mask: Optional[torch.Tensor]) -> torch.Tensor: ...
    @torch.no_grad()
    def generate(
        self,
        inputs: Optional[torch.Tensor] = ...,
        generation_config: Optional[GenerationConfig] = ...,
        logits_processor: Optional[LogitsProcessorList] = ...,
        stopping_criteria: Optional[StoppingCriteriaList] = ...,
        prefix_allowed_tokens_fn: Optional[Callable[[int, torch.Tensor], list[int]]] = ...,
        synced_gpus: Optional[bool] = ...,
        assistant_model: Optional[PreTrainedModel] = ...,
        streamer: Optional[BaseStreamer] = ...,
        negative_prompt_ids: Optional[torch.Tensor] = ...,
        negative_prompt_attention_mask: Optional[torch.Tensor] = ...,
        use_model_defaults: Optional[bool] = ...,
        custom_generate: Optional[str] = ...,
        **kwargs,
    ) -> Union[GenerateOutput, torch.LongTensor]: ...
