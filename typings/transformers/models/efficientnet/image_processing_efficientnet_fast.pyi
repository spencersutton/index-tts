"""
This type stub file was generated by pyright.
"""

from typing import Optional, Union

import torch

from ...image_processing_utils_fast import BaseImageProcessorFast, BatchFeature, DefaultFastImageProcessorKwargs
from ...image_utils import ImageInput
from ...processing_utils import Unpack
from ...utils import auto_docstring, is_torch_available, is_torchvision_available

"""Fast Image processor class for EfficientNet."""
if is_torch_available(): ...
if is_torchvision_available(): ...

class EfficientNetFastImageProcessorKwargs(DefaultFastImageProcessorKwargs):
    """
    Args:
        rescale_offset (`bool`, *optional*, defaults to `self.rescale_offset`):
            Whether to rescale the image between [-max_range/2, scale_range/2] instead of [0, scale_range].
        include_top (`bool`, *optional*, defaults to `self.include_top`):
            Normalize the image again with the standard deviation only for image classification if set to True.
    """

    rescale_offset: bool
    include_top: bool
    ...

@auto_docstring
class EfficientNetImageProcessorFast(BaseImageProcessorFast):
    resample = ...
    image_mean = ...
    image_std = ...
    size = ...
    crop_size = ...
    do_resize = ...
    do_center_crop = ...
    do_rescale = ...
    rescale_factor = ...
    rescale_offset = ...
    do_normalize = ...
    include_top = ...
    valid_kwargs = EfficientNetFastImageProcessorKwargs
    def __init__(self, **kwargs: Unpack[EfficientNetFastImageProcessorKwargs]) -> None: ...
    def rescale(self, image: torch.Tensor, scale: float, offset: bool | None = ..., **kwargs) -> torch.Tensor:
        """
        Rescale an image by a scale factor.

        If `offset` is `True`, the image has its values rescaled by `scale` and then offset by 1. If `scale` is
        1/127.5, the image is rescaled between [-1, 1].
            image = image * scale - 1

        If `offset` is `False`, and `scale` is 1/255, the image is rescaled between [0, 1].
            image = image * scale

        Args:
            image (`torch.Tensor`):
                Image to rescale.
            scale (`float`):
                The scaling factor to rescale pixel values by.
            offset (`bool`, *optional*):
                Whether to scale the image in both negative and positive directions.

        Returns:
            `torch.Tensor`: The rescaled image.
        """
        ...

    def rescale_and_normalize(
        self,
        images: torch.Tensor,
        do_rescale: bool,
        rescale_factor: float,
        do_normalize: bool,
        image_mean: float | list[float],
        image_std: float | list[float],
        rescale_offset: bool = ...,
    ) -> torch.Tensor:
        """
        Rescale and normalize images.
        """
        ...

    @auto_docstring
    def preprocess(
        self, images: ImageInput, **kwargs: Unpack[EfficientNetFastImageProcessorKwargs]
    ) -> BatchFeature: ...

__all__ = ["EfficientNetImageProcessorFast"]
