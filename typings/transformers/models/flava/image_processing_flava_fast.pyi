"""
This type stub file was generated by pyright.
"""

import torch
from collections.abc import Iterable
from functools import lru_cache
from typing import Any, Optional, Union
from ...image_processing_utils_fast import BaseImageProcessorFast, BatchFeature, DefaultFastImageProcessorKwargs
from ...image_utils import ImageInput
from ...processing_utils import Unpack
from ...utils import auto_docstring, is_torch_available, is_torchvision_available

if is_torch_available(): ...
if is_torchvision_available(): ...

class FlavaMaskingGenerator:
    def __init__(
        self,
        input_size: Union[int, tuple[int, int]] = ...,
        total_mask_patches: int = ...,
        mask_group_max_patches: Optional[int] = ...,
        mask_group_min_patches: int = ...,
        mask_group_min_aspect_ratio: Optional[float] = ...,
        mask_group_max_aspect_ratio: Optional[float] = ...,
    ) -> None: ...
    def __repr__(self): ...
    def get_shape(self): ...
    def __call__(self): ...

class FlavaFastImageProcessorKwargs(DefaultFastImageProcessorKwargs):
    return_image_mask: Optional[bool]
    input_size_patches: Optional[int]
    total_mask_patches: Optional[int]
    mask_group_min_patches: Optional[int]
    mask_group_max_patches: Optional[int]
    mask_group_min_aspect_ratio: Optional[float]
    mask_group_max_aspect_ratio: Optional[float]
    return_codebook_pixels: Optional[bool]
    codebook_do_resize: Optional[bool]
    codebook_size: Optional[bool]
    codebook_resample: Optional[int]
    codebook_do_center_crop: Optional[bool]
    codebook_crop_size: Optional[int]
    codebook_do_rescale: Optional[bool]
    codebook_rescale_factor: Optional[Union[int, float]]
    codebook_do_map_pixels: Optional[bool]
    codebook_do_normalize: Optional[bool]
    codebook_image_mean: Optional[Union[float, Iterable[float]]]
    codebook_image_std: Optional[Union[float, Iterable[float]]]
    ...

@auto_docstring
class FlavaImageProcessorFast(BaseImageProcessorFast):
    resample = ...
    image_mean = ...
    image_std = ...
    size = ...
    crop_size = ...
    do_resize = ...
    do_center_crop = ...
    do_rescale = ...
    do_normalize = ...
    return_image_mask = ...
    input_size_patches = ...
    total_mask_patches = ...
    mask_group_min_patches = ...
    mask_group_max_patches = ...
    mask_group_min_aspect_ratio = ...
    mask_group_max_aspect_ratio = ...
    return_codebook_pixels = ...
    codebook_do_resize = ...
    codebook_size = ...
    codebook_resample = ...
    codebook_do_center_crop = ...
    codebook_crop_size = ...
    codebook_do_rescale = ...
    codebook_rescale_factor = ...
    codebook_do_map_pixels = ...
    codebook_do_normalize = ...
    codebook_image_mean = ...
    codebook_image_std = ...
    valid_kwargs = FlavaFastImageProcessorKwargs
    def __init__(self, **kwargs: Unpack[FlavaFastImageProcessorKwargs]) -> None: ...
    @auto_docstring
    def preprocess(self, images: ImageInput, **kwargs: Unpack[DefaultFastImageProcessorKwargs]) -> BatchFeature: ...
    @classmethod
    def from_dict(cls, image_processor_dict: dict[str, Any], **kwargs): ...
    @lru_cache
    def masking_generator(
        self,
        input_size_patches,
        total_mask_patches,
        mask_group_min_patches,
        mask_group_max_patches,
        mask_group_min_aspect_ratio,
        mask_group_max_aspect_ratio,
    ) -> FlavaMaskingGenerator: ...
    def map_pixels(self, image: torch.Tensor) -> torch.Tensor: ...

__all__ = ["FlavaImageProcessorFast"]
