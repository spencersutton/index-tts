"""
This type stub file was generated by pyright.
"""

from typing import Callable, Optional, Union
from ...feature_extraction_utils import BatchFeature
from ...image_utils import ImageInput
from ...processing_utils import ImagesKwargs, ProcessingKwargs, ProcessorMixin, TextKwargs, Unpack
from ...tokenization_utils_base import PreTokenizedInput, TextInput
from ...utils import is_tf_available, is_torch_available
from ...utils.deprecation import deprecate_kwarg

if is_torch_available(): ...
if is_tf_available(): ...
IMAGE_TOKEN = ...

class IdeficsImagesKwargs(ImagesKwargs, total=False):
    transform: Optional[Callable]
    image_size: Optional[dict[str, int]]
    image_mean: Optional[Union[float, list[float]]]
    image_std: Optional[Union[float, list[float]]]
    ...

class IdeficsTextKwargs(TextKwargs, total=False):
    add_eos_token: Optional[bool]
    add_end_of_utterance_token: Optional[bool]
    ...

class IdeficsProcessorKwargs(ProcessingKwargs, total=False):
    text_kwargs: IdeficsTextKwargs
    images_kwargs: IdeficsImagesKwargs
    _defaults = ...

def incremental_to_binary_attention_mask(incremental_mask, return_tensors, num_classes=...): ...
def image_attention_mask_for_packed_input_ids(input_ids, tokenizer, return_tensors): ...
def image_attention_mask_for_packed_input_ids_pt(input_ids, tokenizer): ...
def image_attention_mask_for_packed_input_ids_tf(input_ids, tokenizer): ...
def is_url(string): ...

class IdeficsProcessor(ProcessorMixin):
    attributes = ...
    image_processor_class = ...
    tokenizer_class = ...
    def __init__(
        self, image_processor, tokenizer=..., image_size=..., add_end_of_utterance_token=..., **kwargs
    ) -> None: ...
    @deprecate_kwarg(old_name="prompts", version="5.0.0", new_name="text", raise_if_both_names=True)
    def __call__(
        self,
        images: Union[ImageInput, list[ImageInput], str, list[str], list[list[str]]] = ...,
        text: Union[
            TextInput,
            PreTokenizedInput,
            list[TextInput],
            list[PreTokenizedInput],
            list[list[TextInput]],
            list[list[PreTokenizedInput]],
        ] = ...,
        audio=...,
        videos=...,
        **kwargs: Unpack[IdeficsProcessorKwargs],
    ) -> BatchFeature: ...
    def batch_decode(self, *args, **kwargs): ...
    def decode(self, *args, **kwargs): ...
    @property
    def model_input_names(self): ...

__all__ = ["IdeficsProcessor"]
