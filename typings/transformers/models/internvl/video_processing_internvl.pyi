"""
This type stub file was generated by pyright.
"""

import torch
from typing import Optional, Union
from ...processing_utils import Unpack, VideosKwargs
from ...utils import is_torch_available, is_torchvision_available, is_vision_available
from ...utils.import_utils import requires
from ...video_processing_utils import BaseVideoProcessor
from ...video_utils import VideoMetadata

"""Fast Video processor class for InternVL."""
if is_torchvision_available(): ...
if is_torch_available(): ...
if is_vision_available(): ...

class InternVLVideoProcessorInitKwargs(VideosKwargs):
    initial_shift: Union[bool, float, int]
    ...

@requires(backends=("torchvision",))
class InternVLVideoProcessor(BaseVideoProcessor):
    resample = ...
    image_mean = ...
    image_std = ...
    size = ...
    do_resize = ...
    do_rescale = ...
    do_normalize = ...
    do_convert_rgb = ...
    initial_shift = ...
    do_sample_frames = ...
    valid_kwargs = InternVLVideoProcessorInitKwargs
    model_input_names = ...
    def __init__(self, **kwargs: Unpack[InternVLVideoProcessorInitKwargs]) -> None: ...
    def sample_frames(
        self,
        video: torch.Tensor,
        metadata: Optional[Union[VideoMetadata, dict]] = ...,
        num_frames: Optional[int] = ...,
        fps: Optional[Union[int, float]] = ...,
        initial_shift: Optional[Union[bool, float, int]] = ...,
    ):  # -> Tensor:
        """
        Default sampling function which uniformly samples the desired number of frames between 0 and total number of frames.
        If `fps` is passed along with metadata, `fps` frames per second are sampled uniformty. Arguments `num_frames`
        and `fps` are mutually exclusive.

        Args:
            video (`torch.Tensor`):
                Video that need to be sampled.
            metadata (`VideoMetadata`, *optional*):
                Metadata of the video containing information about total duration, fps and total number of frames.
            num_frames (`int`, *optional*):
                Maximum number of frames to sample. Defaults to `self.num_frames`.
            fps (`int` or `float`, *optional*):
                Target frames to sample per second. Defaults to `self.fps`.
            initial_shift (`bool`, `float` or `int`, defaults to `self.initial_shift`):
                The initial shift to apply when sampling frames. If `True`, the shift is set so that frames are sampled from the middle of the video.

        Returns:
            torch.Tensor:
                Sampled video frames.
        """
        ...

__all__ = ["InternVLVideoProcessor"]
