"""
This type stub file was generated by pyright.
"""

import numpy as np
from typing import Optional, Union
from ...image_processing_utils import BaseImageProcessor
from ...image_utils import ChannelDimension, ImageInput
from ...utils import TensorType, is_torch_available, is_vision_available
from PIL import Image

if is_vision_available(): ...
if is_torch_available(): ...
logger = ...
DEFAULT_FONT_PATH = ...

def torch_extract_patches(image_tensor, patch_height, patch_width): ...
def render_text(
    text: str,
    text_size: int = ...,
    text_color: str = ...,
    background_color: str = ...,
    left_padding: int = ...,
    right_padding: int = ...,
    top_padding: int = ...,
    bottom_padding: int = ...,
    font_bytes: Optional[bytes] = ...,
    font_path: Optional[str] = ...,
) -> Image.Image: ...
def render_header(
    image: np.ndarray, header: str, input_data_format: Optional[Union[str, ChildProcessError]] = ..., **kwargs
): ...

class Pix2StructImageProcessor(BaseImageProcessor):
    model_input_names = ...
    def __init__(
        self,
        do_convert_rgb: bool = ...,
        do_normalize: bool = ...,
        patch_size: Optional[dict[str, int]] = ...,
        max_patches: int = ...,
        is_vqa: bool = ...,
        **kwargs,
    ) -> None: ...
    def extract_flattened_patches(
        self,
        image: np.ndarray,
        max_patches: int,
        patch_size: dict,
        input_data_format: Optional[Union[str, ChannelDimension]] = ...,
        **kwargs,
    ) -> np.ndarray: ...
    def normalize(
        self,
        image: np.ndarray,
        data_format: Optional[Union[str, ChannelDimension]] = ...,
        input_data_format: Optional[Union[str, ChannelDimension]] = ...,
        **kwargs,
    ) -> np.ndarray: ...
    def preprocess(
        self,
        images: ImageInput,
        header_text: Optional[str] = ...,
        do_convert_rgb: Optional[bool] = ...,
        do_normalize: Optional[bool] = ...,
        max_patches: Optional[int] = ...,
        patch_size: Optional[dict[str, int]] = ...,
        return_tensors: Optional[Union[str, TensorType]] = ...,
        data_format: ChannelDimension = ...,
        input_data_format: Optional[Union[str, ChannelDimension]] = ...,
        **kwargs,
    ) -> ImageInput: ...

__all__ = ["Pix2StructImageProcessor"]
