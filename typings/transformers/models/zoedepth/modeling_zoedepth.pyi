"""
This type stub file was generated by pyright.
"""

import torch
from dataclasses import dataclass
from typing import Optional, Union
from torch import nn
from ...modeling_outputs import DepthEstimatorOutput
from ...modeling_utils import PreTrainedModel
from ...utils import ModelOutput, auto_docstring
from .configuration_zoedepth import ZoeDepthConfig

logger = ...

@dataclass
@auto_docstring(custom_intro=...)
class ZoeDepthDepthEstimatorOutput(ModelOutput):
    loss: Optional[torch.FloatTensor] = ...
    predicted_depth: Optional[torch.FloatTensor] = ...
    domain_logits: Optional[torch.FloatTensor] = ...
    hidden_states: Optional[tuple[torch.FloatTensor, ...]] = ...
    attentions: Optional[tuple[torch.FloatTensor, ...]] = ...

class ZoeDepthReassembleStage(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, hidden_states: list[torch.Tensor], patch_height, patch_width) -> list[torch.Tensor]: ...

class ZoeDepthReassembleLayer(nn.Module):
    def __init__(self, config, channels, factor) -> None: ...
    def forward(self, hidden_state): ...

class ZoeDepthFeatureFusionStage(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, hidden_states): ...

class ZoeDepthPreActResidualLayer(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, hidden_state: torch.Tensor) -> torch.Tensor: ...

class ZoeDepthFeatureFusionLayer(nn.Module):
    def __init__(self, config, align_corners=...) -> None: ...
    def forward(self, hidden_state, residual=...): ...

class ZoeDepthNeck(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, hidden_states: list[torch.Tensor], patch_height, patch_width) -> list[torch.Tensor]: ...

class ZoeDepthRelativeDepthEstimationHead(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, hidden_states: list[torch.Tensor]) -> torch.Tensor: ...

def log_binom(n, k, eps=...): ...

class LogBinomialSoftmax(nn.Module):
    def __init__(self, n_classes=..., act=...) -> None: ...
    def forward(self, probabilities, temperature=..., eps=...): ...

class ZoeDepthConditionalLogBinomialSoftmax(nn.Module):
    def __init__(self, config, in_features, condition_dim, n_classes=..., bottleneck_factor=...) -> None: ...
    def forward(self, main_feature, condition_feature): ...

class ZoeDepthSeedBinRegressor(nn.Module):
    def __init__(self, config, n_bins=..., mlp_dim=..., min_depth=..., max_depth=...) -> None: ...
    def forward(self, x): ...

@torch.jit.script
def inv_attractor(dx, alpha: float = ..., gamma: int = ...): ...

class ZoeDepthAttractorLayer(nn.Module):
    def __init__(
        self, config, n_bins, n_attractors=..., min_depth=..., max_depth=..., memory_efficient=...
    ) -> None: ...
    def forward(self, x, prev_bin, prev_bin_embedding=..., interpolate=...): ...

class ZoeDepthAttractorLayerUnnormed(nn.Module):
    def __init__(
        self, config, n_bins, n_attractors=..., min_depth=..., max_depth=..., memory_efficient=...
    ) -> None: ...
    def forward(self, x, prev_bin, prev_bin_embedding=..., interpolate=...): ...

class ZoeDepthProjector(nn.Module):
    def __init__(self, in_features, out_features, mlp_dim=...) -> None: ...
    def forward(self, hidden_state: torch.Tensor) -> torch.Tensor: ...

class ZoeDepthMultiheadAttention(nn.Module):
    def __init__(self, hidden_size, num_attention_heads, dropout) -> None: ...
    def forward(
        self,
        queries: torch.Tensor,
        keys: torch.Tensor,
        values: torch.Tensor,
        attention_mask: Optional[torch.FloatTensor] = ...,
        output_attentions: Optional[bool] = ...,
    ) -> tuple[torch.Tensor]: ...

class ZoeDepthTransformerEncoderLayer(nn.Module):
    def __init__(self, config, dropout=..., activation=...) -> None: ...
    def forward(self, src, src_mask: Optional[torch.Tensor] = ...): ...

class ZoeDepthPatchTransformerEncoder(nn.Module):
    def __init__(self, config) -> None: ...
    def positional_encoding_1d(self, batch_size, sequence_length, embedding_dim, device=..., dtype=...): ...
    def forward(self, x): ...

class ZoeDepthMLPClassifier(nn.Module):
    def __init__(self, in_features, out_features) -> None: ...
    def forward(self, hidden_state): ...

class ZoeDepthMultipleMetricDepthEstimationHeads(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, outconv_activation, bottleneck, feature_blocks, relative_depth): ...

class ZoeDepthMetricDepthEstimationHead(nn.Module):
    def __init__(self, config) -> None: ...
    def forward(self, outconv_activation, bottleneck, feature_blocks, relative_depth): ...

@auto_docstring
class ZoeDepthPreTrainedModel(PreTrainedModel):
    config: ZoeDepthConfig
    base_model_prefix = ...
    main_input_name = ...
    supports_gradient_checkpointing = ...

@auto_docstring(custom_intro=...)
class ZoeDepthForDepthEstimation(ZoeDepthPreTrainedModel):
    def __init__(self, config) -> None: ...
    @auto_docstring
    def forward(
        self,
        pixel_values: torch.FloatTensor,
        labels: Optional[torch.LongTensor] = ...,
        output_attentions: Optional[bool] = ...,
        output_hidden_states: Optional[bool] = ...,
        return_dict: Optional[bool] = ...,
    ) -> Union[tuple[torch.Tensor], DepthEstimatorOutput]: ...

__all__ = ["ZoeDepthForDepthEstimation", "ZoeDepthPreTrainedModel"]
