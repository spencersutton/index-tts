"""
This type stub file was generated by pyright.
"""

from collections.abc import Iterable
from pathlib import Path
from typing import Optional, TYPE_CHECKING, Union
from packaging.version import Version
from ..utils import is_tf_available, is_torch_available
from .config import OnnxConfig
from ..modeling_utils import PreTrainedModel
from ..modeling_tf_utils import TFPreTrainedModel
from ..feature_extraction_utils import FeatureExtractionMixin
from ..processing_utils import ProcessorMixin
from ..tokenization_utils import PreTrainedTokenizer

if is_torch_available(): ...
if is_tf_available(): ...
if TYPE_CHECKING: ...
logger = ...
ORT_QUANTIZE_MINIMUM_VERSION = ...

def check_onnxruntime_requirements(minimum_version: Version): ...
def export_pytorch(
    preprocessor: Union[PreTrainedTokenizer, FeatureExtractionMixin, ProcessorMixin],
    model: PreTrainedModel,
    config: OnnxConfig,
    opset: int,
    output: Path,
    tokenizer: Optional[PreTrainedTokenizer] = ...,
    device: str = ...,
) -> tuple[list[str], list[str]]: ...
def export_tensorflow(
    preprocessor: Union[PreTrainedTokenizer, FeatureExtractionMixin],
    model: TFPreTrainedModel,
    config: OnnxConfig,
    opset: int,
    output: Path,
    tokenizer: Optional[PreTrainedTokenizer] = ...,
) -> tuple[list[str], list[str]]: ...
def export(
    preprocessor: Union[PreTrainedTokenizer, FeatureExtractionMixin, ProcessorMixin],
    model: Union[PreTrainedModel, TFPreTrainedModel],
    config: OnnxConfig,
    opset: int,
    output: Path,
    tokenizer: Optional[PreTrainedTokenizer] = ...,
    device: str = ...,
) -> tuple[list[str], list[str]]: ...
def validate_model_outputs(
    config: OnnxConfig,
    preprocessor: Union[PreTrainedTokenizer, FeatureExtractionMixin, ProcessorMixin],
    reference_model: Union[PreTrainedModel, TFPreTrainedModel],
    onnx_model: Path,
    onnx_named_outputs: list[str],
    atol: float,
    tokenizer: Optional[PreTrainedTokenizer] = ...,
): ...
def ensure_model_and_config_inputs_match(
    model: Union[PreTrainedModel, TFPreTrainedModel], model_inputs: Iterable[str]
) -> tuple[bool, list[str]]: ...
