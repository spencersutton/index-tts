from collections.abc import Callable
from enum import Enum
from typing import Any

class RequestStatus(Enum):
    PENDING = ...
    PREFILLING = ...
    PREFILLING_SPLIT = ...
    SPLIT_PENDING_REMAINDER = ...
    DECODING = ...
    FINISHED = ...
    FAILED = ...

_has_opentelemetry = ...

def attach_tracer(tracer_name_template=...):  # -> Callable[..., Any]:

    ...
def traced(
    func=...,
    *,
    span_name=...,
    standalone=...,
    additional_attributes: list[tuple[str, str, Any | Callable[[Any], Any]]] | None = ...,
):  # -> Callable[..., Any | _Wrapped[..., Any, ..., Any]] | _Wrapped[..., Any, ..., Any]:

    ...

logger = ...

@attach_tracer()
class ContinuousBatchProcessorMetrics:
    def __init__(self, max_batch_tokens: int) -> None: ...
    @traced
    def record_ttft_metric(self, created_time: float, request_id: str) -> None: ...
    @traced
    def record_batch_metrics(self, requests_in_batch: list) -> None: ...
    @traced
    def record_kv_cache_memory_metrics(self, cache) -> None: ...
    @traced
    def record_queue_metrics(self, active_requests: int, waiting_requests: int) -> None: ...
    @traced
    def record_request_completion(self, created_time: float, request_id: str) -> None: ...
